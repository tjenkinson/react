/** @license React vundefined
 * react-interactions-events/tap.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
'use strict';(function(r,t){"object"===typeof exports&&"undefined"!==typeof module?module.exports=t(require("react")):"function"===typeof define&&define.amd?define(["react"],t):r.ReactEventsTap=t(r.React)})(this,function(r){function t(b,c){if(null!=c){b=b.changedTouches;for(var d=0;d<b.length;d++){var a=b[d];if(a.identifier===c)return a}}return null}function y(b){b=b.nativeEvent;var c=b.ctrlKey,d=b.metaKey,a=b.shiftKey;return!0===b.altKey||!0===c||!0===d||!0===a}function B(b,c,d,a){b=b.getTimeStamp();
a=a.nativeEvent;return{altKey:a.altKey,ctrlKey:a.ctrlKey,height:a.height,metaKey:a.metaKey,pageX:a.pageX,pageY:a.pageY,pointerType:a.pointerType,pressure:a.pressure,screenX:a.screenX,screenY:a.screenY,shiftKey:a.shiftKey,tangentialPressure:a.tangentialPressure,target:d.responderTarget,tiltX:a.tiltX,tiltY:a.tiltY,timeStamp:b,twist:a.twist,width:a.width,x:a.clientX,y:a.clientY}}function C(b,c,d,a){b=b.getTimeStamp();var e=a.nativeEvent,f=a.type;c=e.altKey;var g=e.ctrlKey,h=e.metaKey,p=e.shiftKey,q=
"dragstart"===f||"touchcancel"===f;f="mouseup"===f||"touchend"===f;var n="touch"===a.pointerType,l=e;!m&&n&&(e=t(e,d.activePointerId),null!=e&&(l=e));var k=l;e=k.pageX;l=k.pageY;var r=k.radiusX,u=k.radiusY,v=k.rotationAngle,w=k.screenX,x=k.screenY,y=k.clientX;k=k.clientY;return{altKey:c,ctrlKey:g,height:q||null==u?1:2*u,metaKey:h,pageX:q?0:e,pageY:q?0:l,pointerType:a.pointerType,pressure:f||q?0:n?1:.5,screenX:q?0:w,screenY:q?0:x,shiftKey:p,tangentialPressure:0,target:d.responderTarget,tiltX:0,tiltY:0,
timeStamp:b,twist:null!=v?v:0,width:q||null==r?1:2*r,x:q?0:y,y:q?0:k}}function n(b,c){null!=c.rootEvents&&(b.removeRootEventTypes(c.rootEvents),c.rootEvents=null)}function u(b,c){var d=b.nativeEvent,a=c.activePointerId;return m?(d=d.pointerId,null!=a&&null!=d?c.pointerType===b.pointerType&&a===d:!0):"touch"===b.pointerType?null!=t(d,a):!0}function v(b,c){var d=c.nativeEvent;c=b===w.primary||"touch"===c.pointerType;return b===w.auxiliary||c&&d.metaKey||c&&d.shiftKey}function x(b,c,d){c=c.onTapChange;
null!=c&&b.dispatchEvent(d.isActive,c,0)}function p(b,c,d){var a=c.onTapCancel;x(b,c,d);null!=a&&(c=b.objectAssign({},d.gestureState,{type:"tap:cancel"}),b.dispatchEvent(c,a,0))}function z(b,c,d){c=c.onAuxiliaryTap;null!=c&&(d=b.objectAssign({},d.gestureState,{defaultPrevented:!1,type:"tap:auxiliary"}),b.dispatchEvent(d,c,0))}var m="undefined"!==typeof window&&void 0!==window.PointerEvent;"undefined"!==typeof window&&null!=window.navigator&&/^Mac/.test(window.navigator.platform);var w={none:0,primary:1,
secondary:2,auxiliary:4},D=m?"click_active contextmenu pointerup pointermove pointercancel scroll".split(" "):"click_active contextmenu mouseup mousemove dragstart touchend touchmove touchcancel scroll".split(" "),l=m?B:C,A=r.unstable_createResponder("Tap",{targetEventTypes:m?["pointerdown"]:["mousedown","touchstart"],getInitialState:function(){return{activePointerId:null,buttons:0,ignoreEmulatedEvents:!1,isActive:!1,isAuxiliaryActive:!1,initialPosition:{x:0,y:0},pointerType:"",responderTarget:null,
rootEvents:null,shouldPreventDefault:!0,gestureState:{altKey:!1,ctrlKey:!1,height:1,metaKey:!1,pageX:0,pageY:0,pointerType:"",pressure:0,screenX:0,screenY:0,shiftKey:!1,tangentialPressure:0,target:null,tiltX:0,tiltY:0,timeStamp:0,twist:0,width:1,x:0,y:0}}},onEvent:function(b,c,d,a){if(d.disabled)n(c,a),a.isActive&&(a.isActive=!1,p(c,d,a));else{var e=b.nativeEvent,f=e.target,g=b.type;switch(g){case "pointerdown":case "mousedown":case "touchstart":if("mousedown"!==g||!a.ignoreEmulatedEvents)if(!a.isActive){if(m){var h=
e.pointerId;a.activePointerId=h;f.releasePointerCapture(h)}else if("touchstart"===g)if(f=e.targetTouches,1===f.length)a.activePointerId=f[0].identifier;else break;f=(b.nativeEvent.buttons===w.primary||"touch"===b.pointerType)&&!y(b);h=v(e.buttons,b);if(f||h)a.buttons=e.buttons,a.pointerType=b.pointerType,a.responderTarget=c.getResponderNode(),a.rootEvents||(a.rootEvents=D,c.addRootEventTypes(a.rootEvents)),m||"touchstart"!==g||(a.ignoreEmulatedEvents=!0);h?a.isAuxiliaryActive=!0:f&&(b=l(c,d,a,b),
a.isActive=!0,a.shouldPreventDefault=!1!==d.preventDefault,a.gestureState=b,a.initialPosition.x=b.x,a.initialPosition.y=b.y,b=d.onTapStart,null!=b&&(e=c.objectAssign({},a.gestureState,{type:"tap:start"}),c.dispatchEvent(e,b,0)),x(c,d,a))}else if(!u(b,a)||"touchstart"===g&&1<e.targetTouches.length)a.isActive=!1,p(c,d,a)}}},onRootEvent:function(b,c,d,a){var e=b.nativeEvent,f=b.type;if(m||"touch"!==b.pointerType)var g=b.target;else{g=c.getActiveDocument();var h=t(b.nativeEvent,a.activePointerId);g=null!=
h?g.elementFromPoint(h.clientX,h.clientY):null}switch(f){case "pointermove":case "mousemove":case "touchmove":if(!m&&"mousemove"===f&&a.ignoreEmulatedEvents)break;a.isActive&&u(b,a)&&(a.gestureState=l(c,d,a,b),f=!0,c.isTargetWithinResponder(g)?null!=d.maximumDistance&&10<=d.maximumDistance&&(e=a.initialPosition,g=a.gestureState,b=e.x-g.x,e=e.y-g.y,Math.sqrt(b*b+e*e)>d.maximumDistance&&(f=!1)):f=!1,f?(d=d.onTapUpdate,null!=d&&(a=c.objectAssign({},a.gestureState,{type:"tap:update"}),c.dispatchEvent(a,
d,1))):(a.isActive=!1,p(c,d,a)));break;case "pointerup":case "mouseup":case "touchend":a.isActive&&u(b,a)?(a.gestureState=l(c,d,a,b),a.isActive=!1,v(a.buttons,b)?(p(c,d,a),z(c,d,a),n(c,a)):!c.isTargetWithinResponder(g)||y(b)?p(c,d,a):(b=d.onTapEnd,x(c,d,a),null!=b&&(d=c.objectAssign({},a.gestureState,{defaultPrevented:!0===a.shouldPreventDefault,type:"tap:end"}),c.dispatchEvent(d,b,0)))):a.isAuxiliaryActive&&v(a.buttons,b)&&(a.isAuxiliaryActive=!1,a.gestureState=l(c,d,a,b),z(c,d,a),n(c,a));m||"mouseup"!==
f||(a.ignoreEmulatedEvents=!1);break;case "contextmenu":case "pointercancel":case "touchcancel":case "dragstart":a.isActive&&u(b,a)&&(a.gestureState=l(c,d,a,b),a.isActive=!1,p(c,d,a),n(c,a));break;case "scroll":a.isActive&&null!=a.responderTarget&&"mouse"!==a.pointerType&&c.isTargetWithinNode(a.responderTarget,e.target)&&(a.gestureState=l(c,d,a,b),a.isActive=!1,p(c,d,a),n(c,a));break;case "click":a.shouldPreventDefault&&e.preventDefault(),n(c,a)}},onUnmount:function(b,c,d){n(b,d);d.isActive&&(d.isActive=
!1,p(b,c,d))}});return{TapResponder:A,useTap:function(b){return r.unstable_useResponder(A,b)}}});
